This is almost verbatim from Zed Shaw's python connector for mongrel2, which you can see here: http://mongrel2.org/dir?ci=1bdfff8f050b97df&name=examples/python/mongrel2

You'll need a recent 1.9 ruby and FFI and http://github.com/chuckremes/ffi-rzmq, oh, and Zero MQ. Run: `ruby example/http_0mq.rb`